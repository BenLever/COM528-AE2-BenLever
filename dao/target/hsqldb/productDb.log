/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
drop table if exists Invoice CASCADE 
drop table if exists Invoice_ShoppingItem CASCADE 
drop table if exists ShoppingItem CASCADE 
drop table if exists User CASCADE 
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
create table Invoice (id bigint generated by default as identity (start with 1), amountDue double, dateOfPurchase timestamp, invoiceNumber varchar(255), purchaser_id bigint, primary key (id))
create table Invoice_ShoppingItem (Invoice_id bigint not null, purchasedItems_id bigint not null)
create table ShoppingItem (id bigint generated by default as identity (start with 1), name varchar(255), price double, quantity integer, uuid varchar(255), primary key (id))
create table User (id bigint generated by default as identity (start with 1), addressLine1 varchar(255), addressLine2 varchar(255), city varchar(255), country varchar(255), county varchar(255), houseNumber varchar(255), mobile varchar(255), postcode varchar(255), telephone varchar(255), enabled boolean, firstName varchar(255), hashedPassword varchar(255), secondName varchar(255), userRole integer, username varchar(255), primary key (id))
alter table Invoice_ShoppingItem add constraint UK_buvb7w504j8klpugir8ba5to2 unique (purchasedItems_id)
alter table Invoice add constraint FKltrolyqonb5dayt24wmp6wj9p foreign key (purchaser_id) references User
alter table Invoice_ShoppingItem add constraint FK69le8o6u2fmwbiabuis9s106u foreign key (purchasedItems_id) references ShoppingItem
alter table Invoice_ShoppingItem add constraint FK51g8m0xs5rcue0y28mtf7c2ke foreign key (Invoice_id) references Invoice
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
drop table if exists Invoice CASCADE 
drop table if exists Invoice_ShoppingItem CASCADE 
drop table if exists ShoppingItem CASCADE 
drop table if exists User CASCADE 
DISCONNECT
